!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Gob=e()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o="[PROXY]";function a(t,e,r,o){return{set:function(a,i,c){if(i==o.GOB_CORE_NAME)return!0;var u=n(r).concat([i]),s={loaclData:t,localGate:e,state:o};return o.gobCore.stimuliBus.receptor("set",u,c,null,s)},get:function(i,u){if(u==o.GOB_CORE_NAME)return o.gobCore;if("$get"==u)return a;if("$set"==u)return c;var s=n(r).concat([u]),f={loaclData:t,localGate:e,state:o};return o.gobCore.stimuliBus.receptor("get",s,void 0,null,f)},deleteProperty:function(t,e){return console.log("called: "+e),!0}};function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=i(t),c=n(r).concat(n(a));return console.log("$get",c),o.gobCore.stimuliBus.receptor("get",c,void 0,e)}function c(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=i(t),u=n(r).concat(n(c));return console.log("$set",u,e),o.gobCore.stimuliBus.receptor("set",u,e,a)}}function i(t){return"string"==typeof t?t.split(/[\.\\/]/):t}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},s={isEmptyObject:function(t){for(var e in t)return!1;return!0},objectCopyToObject:function(t,e,r,n,o,a){if(void 0!=e)for(var i in t){void 0!=a&&a(t,e,i);void 0!=r&&r(i,t[i]);var u=i;void 0!=n&&(u=n(i,t[i])),void 0!=t[i]&&t[i].constructor===Object?("object"!==c(e[u])&&(e[u]={}),this.objectCopyToObject(t[i],e[u],r,n,o)):e[u]=void 0!=o?o(i,t[i]):t[i]}},getObjectValueByNames:function(t,e,r){for(var n,o=0;o<e.length-(r||0);o++)if(0==o){if(void 0==(a=t[e[o]]))return;n=a}else{var a;if(void 0==(a=n[e[o]]))return;n=a}return n},setObjectValueByNames:function(t,e,r){var n=e.length;if(1!=n)for(var o=t,a=null,i=0;i<n;i++){if(a=e[i],i==n-1)return void(o[a]=r);a in o?o=o[a]:(o[a]={},o=o[a])}else t[e[0]]=r},treeFind:function(t,e,r,n,o){if("function"==typeof e)var a=e;else a=function(t){return t.id==e};var i=function t(e,r,n,o,i){for(var c=[],u=[],s=0;s<e.length;s++){var f=e[s];if(a(f)&&(c.push(f),!o))return c;if(f[n])if(i){var l=t(f[n],r,n,o,i);if(!o&&l.length>0)return l;c=c.concat(l)}else u.push(f[n])}if(!i)for(s=0;s<u.length;s++){if(l=t(u[s],r,n,o,i),!o&&l.length>0)return l;c=c.concat(l)}return c}(t,a,r,n,o);return n?i:i.length>0?i[0]:null},treeEach:function(t,e,r,n){var o=[],a=0,i=0;return e||(e=function(t){}),function t(e,r,n,c,u){u>i&&(i=u);var s=[];for(var f=0;f<e.length;f++){a++,void 0==o[u]?o[u]=1:o[u]++;var l=e[f];if(r(l,u,o[u],a,e,f))return;if(l[n])if(c){var p=t(l[n],r,n,c,u+1);if(p)return}else s.push(l[n])}if(!c)for(var f=0;f<s.length;f++){var p=t(s[f],r,n,c,u+1);if(p)return}return}(t,e,r,n,0),{struct:o,deep:i+1,total:a}},pathEach:function(t,e,r){if(r){var n="function"==typeof r,o=new WeakMap;o.set(t,!n||[])}!function t(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var f in a){var l=a[f];if(r&&"object"===(void 0===l?"undefined":c(l))){var p=[].concat(u(i),[f]);if(o.get(l)){n&&r(l,p,o.get(l));continue}n?o.set(l,p):o.set(l,!0)}var p=[].concat(u(i),[f]);e(l,p,s),"object"===(void 0===l?"undefined":c(l))&&t(l,p,s+1)}}(t,[],0)}},f={getType:function(t){var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"};return null===t?"null":void 0===t?"undefined":"object"===(void 0===t?"undefined":c(t))||"function"==typeof t?e[e.toString.call(t)]||"object":void 0===t?"undefined":c(t)}};function l(t,e){return t(e={exports:{}},e.exports),e.exports}l(function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}});for(var p=[],v=0;v<256;++v)p[v]=(v+256).toString(16).substr(1);var b=l(function(t,e){var r=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},e.merge=function(t,n,o){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var a=t;return Array.isArray(t)&&!Array.isArray(n)&&(a=e.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,a){r.call(t,a)?t[a]&&"object"==typeof t[a]?t[a]=e.merge(t[a],n,o):t.push(n):t[a]=n}),t):Object.keys(n).reduce(function(t,a){var i=n[a];return r.call(t,a)?t[a]=e.merge(t[a],i,o):t[a]=i,t},a)},e.assign=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",o=0;o<e.length;++o){var a=e.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=e.charAt(o):a<128?r+=n[a]:a<2048?r+=n[192|a>>6]+n[128|63&a]:a<55296||a>=57344?r+=n[224|a>>12]+n[128|a>>6&63]+n[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(o)),r+=n[240|a>>18]+n[128|a>>12&63]+n[128|a>>6&63]+n[128|63&a])}return r},e.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],a=o.obj[o.prop],i=Object.keys(a),c=0;c<i.length;++c){var u=i[c],s=a[u];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(e.push({obj:a,prop:u}),r.push(s))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],o=0;o<e.length;++o)void 0!==e[o]&&n.push(e[o]);r.obj[r.prop]=n}}return e}(e)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}});b.arrayToObject,b.merge,b.assign,b.decode,b.encode,b.compact,b.isRegExp,b.isBuffer,Date.prototype.toISOString,b.encode,b.decode;function y(t,e,r,n){var i={},c=new Proxy(t,a(t,i,r,n.state));return i[o]=c,s.setObjectValueByNames(n.localGate,e,i),i}var h=function(){function a(t){e(this,a),this.stimuliLog={changes:[],visits:[],indexes:{set:0,get:0,delete:0,all:0},latestPath:null,latestType:null},this.gobCore=t}var i,c,u;return i=a,(c=[{key:"receptor",value:function(e,r,a,i,c){switch(console.log("[receptor]",c?"<Handler>":"<noHandler>",e,r),c&&this.recordStimuli(e,r,a,i),e){case"get":return c?function(t,e,r){var n=r.loaclData[e];console.log("[get]",t,{loaclData:r.loaclData,key:e});var a=f.getType(n);return console.log("  [get value]",n,a),"object"===a||"array"===a?(console.log("  [find gates]",t),r.localGate[e][o]):(console.log("  return value",n),n)}(r,r[r.length-1],c):(console.log("getObjectValueByNames",r),s.getObjectValueByNames(this.gobCore.proxy,r,null));case"set":return c?function(e,r,o,a){var i=f.getType(r);return console.log("[set]","fullPath:",e,{valueType:i,key:o,value:r}),"object"===i||"array"===i?(a.loaclData[o]=r,y(r,[o],e,a),s.pathEach(r,function(r,i){"object"===t(r)&&y(r,[o].concat(n(i)),n(e).concat(n(i)),a)},function(t,e,r){var i;i=0==r.length?a.localGate[o]:s.getObjectValueByNames(a.localGate,[o,r],null),s.setObjectValueByNames(a.localGate,[o].concat(n(e)),i)})):a.loaclData[o]=r,!0}(r,a,r[r.length-1],c):s.setObjectValueByNames(this.gobCore.proxy,r,a)}}},{key:"recordStimuli",value:function(t,e,r,n){var o=this;if(!0!==this.gobCore.options.disableLog){this.stimuliLog.latestPath=e,this.stimuliLog.latestType=t;var a=this.stimuliLog.indexes.all++,i=this.stimuliLog.indexes[t]++,c=function(){var c={type:t,path:e,value:o.gobCore.GobFactory.default.cloneDeep(r),origin:n,info:{index:a,typeIndex:i}};console.log("[Stimuli]",c),"set"===t||"delete"===t?o.stimuliLog.changes.push(c):o.stimuliLog.visits.push(c)};!0===this.gobCore.options.syncLog?c():setTimeout(c,0)}}},{key:"getLatestStimuliSign",value:function(){if(this.stimuliLog.latestType)return{type:this.stimuliLog.latestType,path:this.stimuliLog.latestPath}}}])&&r(i.prototype,c),u&&r(i,u),a}();var j=function(){this.__data__=[],this.size=0};var d=function(t,e){return t===e||t!=t&&e!=e};var g=function(t,e){for(var r=t.length;r--;)if(d(t[r][0],e))return r;return-1},_=Array.prototype.splice;var m=function(t){var e=this.__data__,r=g(e,t);return!(r<0||(r==e.length-1?e.pop():_.call(e,r,1),--this.size,0))};var O=function(t){var e=this.__data__,r=g(e,t);return r<0?void 0:e[r][1]};var A=function(t){return g(this.__data__,t)>-1};var w=function(t,e){var r=this.__data__,n=g(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function S(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}S.prototype.clear=j,S.prototype.delete=m,S.prototype.get=O,S.prototype.has=A,S.prototype.set=w;var x=S;var C=function(){this.__data__=new x,this.size=0};var E=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var B=function(t){return this.__data__.get(t)};var P=function(t){return this.__data__.has(t)},T="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function G(t,e){return t(e={exports:{}},e.exports),e.exports}var D="object"==typeof T&&T&&T.Object===Object&&T,z="object"==typeof self&&self&&self.Object===Object&&self,I=D||z||Function("return this")(),k=I.Symbol,F=Object.prototype,M=F.hasOwnProperty,U=F.toString,N=k?k.toStringTag:void 0;var R=function(t){var e=M.call(t,N),r=t[N];try{t[N]=void 0;var n=!0}catch(t){}var o=U.call(t);return n&&(e?t[N]=r:delete t[N]),o},L=Object.prototype.toString;var V=function(t){return L.call(t)},$="[object Null]",W="[object Undefined]",q=k?k.toStringTag:void 0;var H=function(t){return null==t?void 0===t?W:$:q&&q in Object(t)?R(t):V(t)};var Y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},K="[object AsyncFunction]",X="[object Function]",J="[object GeneratorFunction]",Q="[object Proxy]";var Z,tt=function(t){if(!Y(t))return!1;var e=H(t);return e==X||e==J||e==K||e==Q},et=I["__core-js_shared__"],rt=(Z=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"";var nt=function(t){return!!rt&&rt in t},ot=Function.prototype.toString;var at=function(t){if(null!=t){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""},it=/^\[object .+?Constructor\]$/,ct=Function.prototype,ut=Object.prototype,st=ct.toString,ft=ut.hasOwnProperty,lt=RegExp("^"+st.call(ft).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var pt=function(t){return!(!Y(t)||nt(t))&&(tt(t)?lt:it).test(at(t))};var vt=function(t,e){return null==t?void 0:t[e]};var bt=function(t,e){var r=vt(t,e);return pt(r)?r:void 0},yt=bt(I,"Map"),ht=bt(Object,"create");var jt=function(){this.__data__=ht?ht(null):{},this.size=0};var dt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gt="__lodash_hash_undefined__",_t=Object.prototype.hasOwnProperty;var mt=function(t){var e=this.__data__;if(ht){var r=e[t];return r===gt?void 0:r}return _t.call(e,t)?e[t]:void 0},Ot=Object.prototype.hasOwnProperty;var At=function(t){var e=this.__data__;return ht?void 0!==e[t]:Ot.call(e,t)},wt="__lodash_hash_undefined__";var St=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ht&&void 0===e?wt:e,this};function xt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xt.prototype.clear=jt,xt.prototype.delete=dt,xt.prototype.get=mt,xt.prototype.has=At,xt.prototype.set=St;var Ct=xt;var Et=function(){this.size=0,this.__data__={hash:new Ct,map:new(yt||x),string:new Ct}};var Bt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Pt=function(t,e){var r=t.__data__;return Bt(e)?r["string"==typeof e?"string":"hash"]:r.map};var Tt=function(t){var e=Pt(this,t).delete(t);return this.size-=e?1:0,e};var Gt=function(t){return Pt(this,t).get(t)};var Dt=function(t){return Pt(this,t).has(t)};var zt=function(t,e){var r=Pt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function It(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}It.prototype.clear=Et,It.prototype.delete=Tt,It.prototype.get=Gt,It.prototype.has=Dt,It.prototype.set=zt;var kt=It,Ft=200;var Mt=function(t,e){var r=this.__data__;if(r instanceof x){var n=r.__data__;if(!yt||n.length<Ft-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new kt(n)}return r.set(t,e),this.size=r.size,this};function Ut(t){var e=this.__data__=new x(t);this.size=e.size}Ut.prototype.clear=C,Ut.prototype.delete=E,Ut.prototype.get=B,Ut.prototype.has=P,Ut.prototype.set=Mt;var Nt=Ut;var Rt=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},Lt=function(){try{var t=bt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Vt=function(t,e,r){"__proto__"==e&&Lt?Lt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},$t=Object.prototype.hasOwnProperty;var Wt=function(t,e,r){var n=t[e];$t.call(t,e)&&d(n,r)&&(void 0!==r||e in t)||Vt(t,e,r)};var qt=function(t,e,r,n){var o=!r;r||(r={});for(var a=-1,i=e.length;++a<i;){var c=e[a],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),o?Vt(r,c,u):Wt(r,c,u)}return r};var Ht=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Yt=function(t){return null!=t&&"object"==typeof t},Kt="[object Arguments]";var Xt=function(t){return Yt(t)&&H(t)==Kt},Jt=Object.prototype,Qt=Jt.hasOwnProperty,Zt=Jt.propertyIsEnumerable,te=Xt(function(){return arguments}())?Xt:function(t){return Yt(t)&&Qt.call(t,"callee")&&!Zt.call(t,"callee")},ee=Array.isArray;var re=function(){return!1},ne=G(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?I.Buffer:void 0,a=(o?o.isBuffer:void 0)||re;t.exports=a}),oe=9007199254740991,ae=/^(?:0|[1-9]\d*)$/;var ie=function(t,e){var r=typeof t;return!!(e=null==e?oe:e)&&("number"==r||"symbol"!=r&&ae.test(t))&&t>-1&&t%1==0&&t<e},ce=9007199254740991;var ue=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ce},se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se["[object Arguments]"]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se["[object Function]"]=se["[object Map]"]=se["[object Number]"]=se["[object Object]"]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var fe=function(t){return Yt(t)&&ue(t.length)&&!!se[H(t)]};var le=function(t){return function(e){return t(e)}},pe=G(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&D.process,a=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}),ve=pe&&pe.isTypedArray,be=ve?le(ve):fe,ye=Object.prototype.hasOwnProperty;var he=function(t,e){var r=ee(t),n=!r&&te(t),o=!r&&!n&&ne(t),a=!r&&!n&&!o&&be(t),i=r||n||o||a,c=i?Ht(t.length,String):[],u=c.length;for(var s in t)!e&&!ye.call(t,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ie(s,u))||c.push(s);return c},je=Object.prototype;var de=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||je)};var ge=function(t,e){return function(r){return t(e(r))}},_e=ge(Object.keys,Object),me=Object.prototype.hasOwnProperty;var Oe=function(t){if(!de(t))return _e(t);var e=[];for(var r in Object(t))me.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Ae=function(t){return null!=t&&ue(t.length)&&!tt(t)};var we=function(t){return Ae(t)?he(t):Oe(t)};var Se=function(t,e){return t&&qt(e,we(e),t)};var xe=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Ce=Object.prototype.hasOwnProperty;var Ee=function(t){if(!Y(t))return xe(t);var e=de(t),r=[];for(var n in t)("constructor"!=n||!e&&Ce.call(t,n))&&r.push(n);return r};var Be=function(t){return Ae(t)?he(t,!0):Ee(t)};var Pe=function(t,e){return t&&qt(e,Be(e),t)},Te=G(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?I.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}});var Ge=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var De=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a};var ze=function(){return[]},Ie=Object.prototype.propertyIsEnumerable,ke=Object.getOwnPropertySymbols,Fe=ke?function(t){return null==t?[]:(t=Object(t),De(ke(t),function(e){return Ie.call(t,e)}))}:ze;var Me=function(t,e){return qt(t,Fe(t),e)};var Ue=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Ne=ge(Object.getPrototypeOf,Object),Re=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ue(e,Fe(t)),t=Ne(t);return e}:ze;var Le=function(t,e){return qt(t,Re(t),e)};var Ve=function(t,e,r){var n=e(t);return ee(t)?n:Ue(n,r(t))};var $e=function(t){return Ve(t,we,Fe)};var We=function(t){return Ve(t,Be,Re)},qe=bt(I,"DataView"),He=bt(I,"Promise"),Ye=bt(I,"Set"),Ke=bt(I,"WeakMap"),Xe=at(qe),Je=at(yt),Qe=at(He),Ze=at(Ye),tr=at(Ke),er=H;(qe&&"[object DataView]"!=er(new qe(new ArrayBuffer(1)))||yt&&"[object Map]"!=er(new yt)||He&&"[object Promise]"!=er(He.resolve())||Ye&&"[object Set]"!=er(new Ye)||Ke&&"[object WeakMap]"!=er(new Ke))&&(er=function(t){var e=H(t),r="[object Object]"==e?t.constructor:void 0,n=r?at(r):"";if(n)switch(n){case Xe:return"[object DataView]";case Je:return"[object Map]";case Qe:return"[object Promise]";case Ze:return"[object Set]";case tr:return"[object WeakMap]"}return e});var rr=er,nr=Object.prototype.hasOwnProperty;var or=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&nr.call(t,"index")&&(r.index=t.index,r.input=t.input),r},ar=I.Uint8Array;var ir=function(t){var e=new t.constructor(t.byteLength);return new ar(e).set(new ar(t)),e};var cr=function(t,e){var r=e?ir(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},ur=/\w*$/;var sr=function(t){var e=new t.constructor(t.source,ur.exec(t));return e.lastIndex=t.lastIndex,e},fr=k?k.prototype:void 0,lr=fr?fr.valueOf:void 0;var pr=function(t){return lr?Object(lr.call(t)):{}};var vr=function(t,e){var r=e?ir(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},br="[object Boolean]",yr="[object Date]",hr="[object Map]",jr="[object Number]",dr="[object RegExp]",gr="[object Set]",_r="[object String]",mr="[object Symbol]",Or="[object ArrayBuffer]",Ar="[object DataView]",wr="[object Float32Array]",Sr="[object Float64Array]",xr="[object Int8Array]",Cr="[object Int16Array]",Er="[object Int32Array]",Br="[object Uint8Array]",Pr="[object Uint8ClampedArray]",Tr="[object Uint16Array]",Gr="[object Uint32Array]";var Dr=function(t,e,r){var n=t.constructor;switch(e){case Or:return ir(t);case br:case yr:return new n(+t);case Ar:return cr(t,r);case wr:case Sr:case xr:case Cr:case Er:case Br:case Pr:case Tr:case Gr:return vr(t,r);case hr:return new n;case jr:case _r:return new n(t);case dr:return sr(t);case gr:return new n;case mr:return pr(t)}},zr=Object.create,Ir=function(){function t(){}return function(e){if(!Y(e))return{};if(zr)return zr(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var kr=function(t){return"function"!=typeof t.constructor||de(t)?{}:Ir(Ne(t))},Fr="[object Map]";var Mr=function(t){return Yt(t)&&rr(t)==Fr},Ur=pe&&pe.isMap,Nr=Ur?le(Ur):Mr,Rr="[object Set]";var Lr=function(t){return Yt(t)&&rr(t)==Rr},Vr=pe&&pe.isSet,$r=Vr?le(Vr):Lr,Wr=1,qr=2,Hr=4,Yr="[object Arguments]",Kr="[object Function]",Xr="[object GeneratorFunction]",Jr="[object Object]",Qr={};Qr[Yr]=Qr["[object Array]"]=Qr["[object ArrayBuffer]"]=Qr["[object DataView]"]=Qr["[object Boolean]"]=Qr["[object Date]"]=Qr["[object Float32Array]"]=Qr["[object Float64Array]"]=Qr["[object Int8Array]"]=Qr["[object Int16Array]"]=Qr["[object Int32Array]"]=Qr["[object Map]"]=Qr["[object Number]"]=Qr[Jr]=Qr["[object RegExp]"]=Qr["[object Set]"]=Qr["[object String]"]=Qr["[object Symbol]"]=Qr["[object Uint8Array]"]=Qr["[object Uint8ClampedArray]"]=Qr["[object Uint16Array]"]=Qr["[object Uint32Array]"]=!0,Qr["[object Error]"]=Qr[Kr]=Qr["[object WeakMap]"]=!1;var Zr=function t(e,r,n,o,a,i){var c,u=r&Wr,s=r&qr,f=r&Hr;if(n&&(c=a?n(e,o,a,i):n(e)),void 0!==c)return c;if(!Y(e))return e;var l=ee(e);if(l){if(c=or(e),!u)return Ge(e,c)}else{var p=rr(e),v=p==Kr||p==Xr;if(ne(e))return Te(e,u);if(p==Jr||p==Yr||v&&!a){if(c=s||v?{}:kr(e),!u)return s?Le(e,Pe(c,e)):Me(e,Se(c,e))}else{if(!Qr[p])return a?e:{};c=Dr(e,p,u)}}i||(i=new Nt);var b=i.get(e);if(b)return b;if(i.set(e,c),$r(e))return e.forEach(function(o){c.add(t(o,r,n,o,e,i))}),c;if(Nr(e))return e.forEach(function(o,a){c.set(a,t(o,r,n,a,e,i))}),c;var y=f?s?We:$e:s?keysIn:we,h=l?void 0:y(e);return Rt(h||e,function(o,a){h&&(o=e[a=o]),Wt(c,a,t(o,r,n,a,e,i))}),c},tn=1,en=4;var rn=function(t){return Zr(t,tn|en)},nn=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this.GobFactory=on,this.stimuliBus=new h(this),this.isGob=3,this.data={},this.gate={},this.options=r},on=function(t,e){var r=new nn(e),n=new Proxy(r.data,a(r.data,r.gate,[],{coreData:r.data,coreGate:r.gate,gobCore:r,GOB_CORE_NAME:"[Gob Core]"}));if(t)for(var o in t)n[o]=t[o];return r.proxy=n,n};return on.default={options:{},cloneDeep:rn},Object.assign(on,{KEY:"[Gob Core]",GOB_CORE_NAME:"[Gob Core]",inspect:function(t){if(t["[Gob Core]"])return t["[Gob Core]"];throw Error("Gob.inspect: param is not Gob3 Instance")}}),on});
